{% extends 'design.html' %}
{% block userblock %}
{% load static %}

<style>
    .userpage {
        margin-top: 120px;
        margin-left: 90px;
        padding: 10px;
        width: 500px;
    }

    .userpage table {
        width: 20em;
        text-align: center;
        border-spacing: 1px;
    }

    .userpage table tr th {
        background: #333;
        color: white;
        padding: 20px;
    }

    .userpage table tr td {
        background: #8B0000;
        color: white;
        padding: 10px;
    }

    .userpage table tr:hover td {
        background: #A52A2A;
    }

    .userpageimage {
        border-style: solid;
        width: 500px;
        height: 380px;
        margin-top: -270px;
        margin-left: 650px;
        background: url("{% static 'images1.jpg' %}") no-repeat center center;
        background-size: cover;
    }
</style>

<div class="userpage">
    <form method="post">
        {% csrf_token %}
        <table>
            <tr>
                <td>
                    <textarea placeholder="Please enter text" name="name" rows="4" cols="50"></textarea>
                </td>
            </tr>
            <tr>
                <td style="text-align:center;" colspan="2">
                    <input type="submit" name="submit" value="SUBMIT" style="background:green; color:white">
                </td>
            </tr>
        </table>
    </form>

    {% if attack_result %}
        <script>
            window.onload = function() {
                var attackResult = "{{ attack_result|escapejs }}";
                if (attackResult === "Not Attacked Data") {
                    alert("No attack detected. Data is safe.");
                } else {
                    alert("DDoS Attack Detected: " + attackResult);
                }
            };
        </script>
    {% endif %}
</div>

<div class="userpageimage"></div>

{% endblock %}
